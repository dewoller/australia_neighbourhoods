<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Home</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<link rel="icon" href="https://github.com/workflowr/workflowr-assets/raw/master/img/reproducible.png">
<!-- Add a small amount of space between sections. -->
<style type="text/css">
div.section {
  padding-top: 12px;
}
</style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>




<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Australian Neighbourhood Land Use Composition</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="results.html">Results</a>
</li>
<li>
  <a href="validation.html">Validation</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="license.html">License</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Home</h1>

</div>


<p>```</p>
<div id="compare-r-calculated-neighbourhoods-with-sql-calculated-neighbourhood" class="section level1">
<h1>compare R calculated neighbourhoods with SQL calculated neighbourhood</h1>
<p>We recalculated a 1% random sample of meshblock neighbourhoods using the R sf package (n=3581), for each of the four neighbourhood distance threshholds. We reused the centroids calculated by postgis, because it is a weighted geographic centroid that is not the same as the centroid returned by the sf package. The R calculated neighbourhoods were broad similar to those calculated by postGIS, with all parameters within .05% of each other. The reason for the difference are as follows:</p>
<ul>
<li>differences in the methods of transformation between spatial reference systems</li>
<li>differences in the way the buffer around the centroid is calculated (e.g. the number of segments in the circle around the centroid)</li>
</ul>
<p>Postgis has about 0.58% larger area calculations than R</p>
</div>
<div id="load-in-postgis-calculated-data" class="section level1">
<h1>Load in postgis calculated data</h1>
<pre class="r"><code>################################################################################yy#####

  con &lt;- RPostgreSQL::dbConnect(DBI::dbDriver(&quot;PostgreSQL&quot;),
                                user=&quot;dewoller&quot;, password=db_password,
                                host=&quot;localhost&quot;, port=5432, dbname=&quot;postgis_db&quot;)

dbGetQuery(con, &quot;
           ---
             select mb.mb_code16, distance, mb.to_mb_code16, intersection_area, proportion_covered
           from meshblock_concordance mb
           join meshblock_detail md using (mb_code16)
           join df_mesh_centroids_sample sample using (mb_code16)
           ---
             &quot; ) %&gt;%
           as_tibble() %&gt;%
           { . } -&gt; df_concordance_sql

  dbGetQuery(con, &quot;
             ---
select mb.mb_code16, distance, mb.mb_category_name_2016, population_covered, intersection_area, category_proportion
from meshblock_statistics mb
join meshblock_detail md using (mb_code16)
join df_mesh_centroids_sample sample using (mb_code16)
---
&quot; ) %&gt;%
as_tibble() %&gt;%
{ . } -&gt; df_c_sql

df_c_sql %&gt;%
  group_by( mb_code16, distance) %&gt;%
  summarise( intersection_area = sum( intersection_area), .groups=&#39;drop&#39;) %&gt;%
  { . } -&gt; df_c_sql_total
################################################################################yy#####</code></pre>
</div>
<div id="analysis---comparison-at-category-level" class="section level1">
<h1>analysis - comparison at category level</h1>
<ul>
<li>difference is the R calculated amount - SQL calculated amount at land use level</li>
</ul>
<pre class="r"><code>################################################################################yy#####


df_c_sql  %&gt;%
  full_join( df_c_r, by=c( &#39;mb_code16&#39;, &#39;mb_category_name_2016&#39;, &#39;distance&#39; ), suffix=c(&#39;.c_r&#39;,&#39;.c_sql&#39;)) %&gt;%
mutate( diff= intersection_area.c_r - intersection_area.c_sql,
       pct = diff / intersection_area.c_sql) %&gt;%
arrange( desc( diff)) %&gt;%
arrange( desc( pct)) %&gt;%
{ . } -&gt; df_diff

df_diff %&gt;%
  drop_na() %&gt;%
  summarise( across( where(is.numeric), .fns=c(&#39;mean&#39;=mean, &#39;median&#39;=median)))</code></pre>
<pre><code># A tibble: 1 x 14
  distance_mean distance_median population_cove… population_cove…
          &lt;dbl&gt;           &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;
1         2648.            2000            5004.               20
# … with 10 more variables: intersection_area.c_r_mean &lt;dbl&gt;,
#   intersection_area.c_r_median &lt;dbl&gt;, category_proportion_mean &lt;dbl&gt;,
#   category_proportion_median &lt;dbl&gt;, intersection_area.c_sql_mean &lt;dbl&gt;,
#   intersection_area.c_sql_median &lt;dbl&gt;, diff_mean &lt;dbl&gt;, diff_median &lt;dbl&gt;,
#   pct_mean &lt;dbl&gt;, pct_median &lt;dbl&gt;</code></pre>
<pre class="r"><code>df_diff %&gt;%
ggplot( aes( diff)) + geom_histogram()</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>Warning: Removed 102 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-1-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-1-1">
Past versions of unnamed-chunk-1-1.png
</button>
</p>
<div id="fig-unnamed-chunk-1-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-1-1.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff %&gt;%
  ggplot( aes( diff)) + geom_histogram() +
  facet_wrap(~distance, scale=&#39;free&#39;)</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<pre><code>Warning: Removed 102 rows containing non-finite values (stat_bin).</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-1-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-1-2">
Past versions of unnamed-chunk-1-2.png
</button>
</p>
<div id="fig-unnamed-chunk-1-2" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-1-2.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff %&gt;%
  ggplot( aes( intersection_area.c_sql, intersection_area.c_r, color=as.factor(distance))) +
  geom_point()</code></pre>
<pre><code>Warning: Removed 102 rows containing missing values (geom_point).</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-1-3.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-1-3">
Past versions of unnamed-chunk-1-3.png
</button>
</p>
<div id="fig-unnamed-chunk-1-3" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-1-3.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff %&gt;%
  filter( distance == 400)</code></pre>
<pre><code># A tibble: 10,235 x 9
   mb_code16 distance mb_category_nam… population_cove… intersection_ar…
   &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;                       &lt;dbl&gt;            &lt;dbl&gt;
 1 20498820…      400 Parkland                      0              5168.
 2 30206290…      400 Commercial                   27.1            9356.
 3 30396592…      400 Parkland                      0              8520.
 4 10464340…      400 Education                     0              7826.
 5 10829260…      400 Commercial                   11             13078.
 6 11000210…      400 Industrial                   48             17475.
 7 50322633…      400 Parkland                      0              6806.
 8 11204816…      400 Commercial                   23.8            2666.
 9 30358392…      400 Parkland                      0              4976.
10 10751150…      400 Commercial                  127.            25856.
# … with 10,225 more rows, and 4 more variables: category_proportion &lt;dbl&gt;,
#   intersection_area.c_sql &lt;dbl&gt;, diff &lt;dbl&gt;, pct &lt;dbl&gt;</code></pre>
</div>
<div id="grand-total-area-coverage" class="section level1">
<h1>grand total area coverage</h1>
<ul>
<li>note that R calculated total is consistently less than the SQL calculated total</li>
</ul>
<pre class="r"><code>df_c_sql_total  %&gt;%
  full_join( df_c_r_total, by=c( &#39;mb_code16&#39;, &#39;distance&#39;), suffix=c(&#39;.c_r&#39;,&#39;.c_sql&#39;)) %&gt;%
  inner_join( distance_theoretical_totals, by=&#39;distance&#39;) %&gt;%
  mutate( diff= as.numeric(intersection_area.c_sql) - intersection_area.c_r ) %&gt;%
  mutate( diff_from_max.c_r = area_max -   intersection_area.c_r) %&gt;%
  mutate( diff_from_max.c_sql = area_max -   intersection_area.c_sql) %&gt;%
  arrange( desc( diff)) %&gt;%
  { . } -&gt; df_diff_total

df_diff_total %&gt;%
  ggplot( aes( diff)) + geom_histogram() +
facet_wrap(~distance, scale=&#39;free&#39;)</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-2-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-2-1">
Past versions of unnamed-chunk-2-1.png
</button>
</p>
<div id="fig-unnamed-chunk-2-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-2-1.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff_total %&gt;%
  ggplot( aes( diff_from_max.c_sql)) + geom_histogram() +
  facet_wrap(~distance, scale=&#39;free&#39;)</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-2-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-2-2">
Past versions of unnamed-chunk-2-2.png
</button>
</p>
<div id="fig-unnamed-chunk-2-2" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-2-2.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff_total %&gt;%
  ggplot( aes( diff_from_max.c_r)) + geom_histogram() +
  facet_wrap(~distance, scale=&#39;free&#39;)</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-2-3.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-2-3">
Past versions of unnamed-chunk-2-3.png
</button>
</p>
<div id="fig-unnamed-chunk-2-3" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-2-3.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff_total %&gt;%
ggplot( aes( diff_from_max.c_r, diff_from_max.c_sql)) +
geom_point() +
  facet_wrap(~distance, scale=&#39;free&#39;)</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-2-4.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-2-4">
Past versions of unnamed-chunk-2-4.png
</button>
</p>
<div id="fig-unnamed-chunk-2-4" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-2-4.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff_total %&gt;%
  ggplot( aes( intersection_area.c_sql, intersection_area.c_r)) +
  geom_point() +
  facet_wrap(~distance, scale=&#39;free&#39;)</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-2-5.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-2-5">
Past versions of unnamed-chunk-2-5.png
</button>
</p>
<div id="fig-unnamed-chunk-2-5" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-2-5.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff_total %&gt;%
  ggplot( aes( intersection_area.c_sql, intersection_area.c_r, color=as.factor(distance))) +
  geom_point()</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-2-6.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-2-6">
Past versions of unnamed-chunk-2-6.png
</button>
</p>
<div id="fig-unnamed-chunk-2-6" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-2-6.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_c_r_total %&gt;%
  arrange( ( intersection_area)) %&gt;%
  ggplot( aes( intersection_area)) + geom_histogram()</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="figure/errorCheck.Rmd/unnamed-chunk-2-7.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-unnamed-chunk-2-7">
Past versions of unnamed-chunk-2-7.png
</button>
</p>
<div id="fig-unnamed-chunk-2-7" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/43d374d0b8ffc560a3dab5de80599bc8f2f9e850/docs/figure/errorCheck.Rmd/unnamed-chunk-2-7.png" target="_blank">43d374d</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff_total %&gt;%
  summarise( across(where(is_numeric), .fns=sum) ) %&gt;% gt()</code></pre>
<pre><code>Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#pzveloiefp .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#pzveloiefp .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pzveloiefp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#pzveloiefp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#pzveloiefp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pzveloiefp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#pzveloiefp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#pzveloiefp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#pzveloiefp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#pzveloiefp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#pzveloiefp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#pzveloiefp .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#pzveloiefp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#pzveloiefp .gt_from_md > :first-child {
  margin-top: 0;
}

#pzveloiefp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#pzveloiefp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#pzveloiefp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#pzveloiefp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pzveloiefp .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#pzveloiefp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#pzveloiefp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#pzveloiefp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#pzveloiefp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#pzveloiefp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pzveloiefp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#pzveloiefp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#pzveloiefp .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#pzveloiefp .gt_left {
  text-align: left;
}

#pzveloiefp .gt_center {
  text-align: center;
}

#pzveloiefp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#pzveloiefp .gt_font_normal {
  font-weight: normal;
}

#pzveloiefp .gt_font_bold {
  font-weight: bold;
}

#pzveloiefp .gt_font_italic {
  font-style: italic;
}

#pzveloiefp .gt_super {
  font-size: 65%;
}

#pzveloiefp .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="pzveloiefp" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">intersection_area.c_r</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">intersection_area.c_sql</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">area_max</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff_from_max.c_r</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff_from_max.c_sql</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">30080400</td>
      <td class="gt_row gt_right">301948424615</td>
      <td class="gt_row gt_right">303719482636</td>
      <td class="gt_row gt_right">339301305702</td>
      <td class="gt_row gt_right">1771058021</td>
      <td class="gt_row gt_right">37352881087</td>
      <td class="gt_row gt_right">35581823066</td>
    </tr>
  </tbody>
  
  
</table></div>
<pre class="r"><code>df_diff_total %&gt;%
  group_by(distance) %&gt;%
  summarise( across(where(is_numeric), .fns=sum) )  %&gt;% gt()</code></pre>
<pre><code>Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated

Warning: Deprecated</code></pre>
<pre><code>`summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#dbgvzfontn .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#dbgvzfontn .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dbgvzfontn .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#dbgvzfontn .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#dbgvzfontn .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dbgvzfontn .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#dbgvzfontn .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#dbgvzfontn .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#dbgvzfontn .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#dbgvzfontn .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#dbgvzfontn .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#dbgvzfontn .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#dbgvzfontn .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#dbgvzfontn .gt_from_md > :first-child {
  margin-top: 0;
}

#dbgvzfontn .gt_from_md > :last-child {
  margin-bottom: 0;
}

#dbgvzfontn .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#dbgvzfontn .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#dbgvzfontn .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dbgvzfontn .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#dbgvzfontn .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#dbgvzfontn .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#dbgvzfontn .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#dbgvzfontn .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#dbgvzfontn .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dbgvzfontn .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#dbgvzfontn .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#dbgvzfontn .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#dbgvzfontn .gt_left {
  text-align: left;
}

#dbgvzfontn .gt_center {
  text-align: center;
}

#dbgvzfontn .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#dbgvzfontn .gt_font_normal {
  font-weight: normal;
}

#dbgvzfontn .gt_font_bold {
  font-weight: bold;
}

#dbgvzfontn .gt_font_italic {
  font-style: italic;
}

#dbgvzfontn .gt_super {
  font-size: 65%;
}

#dbgvzfontn .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="dbgvzfontn" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">distance</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">intersection_area.c_r</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">intersection_area.c_sql</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">area_max</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff_from_max.c_r</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">diff_from_max.c_sql</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">400</td>
      <td class="gt_row gt_right">1731222111</td>
      <td class="gt_row gt_right">1741501163</td>
      <td class="gt_row gt_right">1800006927</td>
      <td class="gt_row gt_right">10279051</td>
      <td class="gt_row gt_right">68784815</td>
      <td class="gt_row gt_right">58505764</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">1000</td>
      <td class="gt_row gt_right">10583008624</td>
      <td class="gt_row gt_right">10645570199</td>
      <td class="gt_row gt_right">11250043293</td>
      <td class="gt_row gt_right">62561575</td>
      <td class="gt_row gt_right">667034668</td>
      <td class="gt_row gt_right">604473093</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2000</td>
      <td class="gt_row gt_right">41369311325</td>
      <td class="gt_row gt_right">41613122233</td>
      <td class="gt_row gt_right">45000173170</td>
      <td class="gt_row gt_right">243810908</td>
      <td class="gt_row gt_right">3630861845</td>
      <td class="gt_row gt_right">3387050937</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">5000</td>
      <td class="gt_row gt_right">248264882554</td>
      <td class="gt_row gt_right">249719289042</td>
      <td class="gt_row gt_right">281251082313</td>
      <td class="gt_row gt_right">1454406487</td>
      <td class="gt_row gt_right">32986199758</td>
      <td class="gt_row gt_right">31531793271</td>
    </tr>
  </tbody>
  
  
</table></div>
<pre class="r"><code>df_c_r %&gt;%
  filter( mb_code16 == &#39;50113130000&#39;)</code></pre>
<pre><code># A tibble: 0 x 4
# … with 4 variables: mb_code16 &lt;chr&gt;, mb_category_name_2016 &lt;chr&gt;,
#   distance &lt;dbl&gt;, intersection_area &lt;dbl&gt;</code></pre>
</div>
<div id="compare-individual-concordances" class="section level1">
<h1>compare individual concordances</h1>
<pre class="r"><code>df_mesh_within_range_area %&gt;%
  rename( to_mb_code16 = mb_code16.1) %&gt;%
  inner_join( df_concordance_sql, by=c(&#39;mb_code16&#39;,&#39;to_mb_code16&#39;, &#39;distance&#39;), suffix=c(&#39;.c_r&#39;,&#39;.c_sql&#39;)) %&gt;%
  mutate( diff= intersection_area.c_r - intersection_area.c_sql,
         pct = diff / intersection_area.c_sql) %&gt;%
  { . } -&gt; df_both_concord


df_both_concord %&gt;%
  drop_na() %&gt;%
  filter( pct != Inf) %&gt;%
  select(diff, pct) %&gt;%
  summarise( across( where(is.numeric), .fns=c(&#39;mean&#39;=mean, &#39;median&#39;=median)))</code></pre>
<pre><code># A tibble: 1 x 4
  diff_mean   diff_median pct_mean pct_median
      &lt;dbl&gt;         &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
1      344. 0.00000000358    4314.   1.78e-13</code></pre>
<pre class="r"><code>df_both_concord %&gt;%
drop_na() %&gt;%
filter( pct != Inf) %&gt;%
group_by(distance) %&gt;%
select(diff, pct) %&gt;%
summarise( across( where(is.numeric), .fns=c(&#39;mean&#39;=mean, &#39;median&#39;=median)))</code></pre>
<pre><code>Adding missing grouping variables: `distance`</code></pre>
<pre><code>`summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre><code># A tibble: 4 x 5
  distance diff_mean diff_median pct_mean pct_median
     &lt;dbl&gt;     &lt;dbl&gt;       &lt;dbl&gt;    &lt;dbl&gt;      &lt;dbl&gt;
1      400      141.     8.41e+1     1.36   6.72e- 3
2     1000      217.     1.80e-8 44162.     9.65e-13
3     2000      279.     6.41e-9    14.7    3.22e-13
4     5000      372.     2.24e-9  2397.     1.10e-13</code></pre>
<pre class="r"><code>dbGetQuery(con, &quot;
           ---
             select mb.mb_code16, distance, mb.mb_category_name_2016, population_covered, intersection_area, category_proportion
           from meshblock_statistics mb
           join meshblock_detail md using (mb_code16)
           ---
             &quot; ) %&gt;%
           as_tibble() %&gt;%
           { . } -&gt; df_c_sql_all

         df_c_sql_all %&gt;%
           group_by( mb_code16, distance) %&gt;%
           summarise( intersection_area = sum( intersection_area), .groups=&#39;drop&#39;) %&gt;%
           { . } -&gt; df_c_sql_total

         df_c_sql_total %&gt;%
           mutate(distance=as.factor(distance)) %&gt;%
           ggplot( aes( intersection_area, fill=distance)) +
           geom_histogram()  +
           facet_wrap(~distance, scale=&#39;free&#39;)</code></pre>
<pre><code>`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="figure/errorCheck.Rmd/total_summary-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>
<button type="button" class="btn btn-default btn-xs btn-workflowr btn-workflowr-fig" data-toggle="collapse" data-target="#fig-total_summary-1">
Past versions of total_summary-1.png
</button>
</p>
<div id="fig-total_summary-1" class="collapse">
<div class="table-responsive">
<table class="table table-condensed table-hover">
<thead>
<tr>
<th>
Version
</th>
<th>
Author
</th>
<th>
Date
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<a href="https://github.com/dewoller/australia_neighbourhoods/blob/33edcf823540fdde8c8c060598f65d0202a792e4/docs/figure/errorCheck.Rmd/total_summary-1.png" target="_blank">33edcf8</a>
</td>
<td>
Dennis Wollersheim
</td>
<td>
2020-09-24
</td>
</tr>
</tbody>
</table>
</div>
</div>
<pre class="r"><code>df_diff_total %&gt;%
  select( distance, intersection_area.c_sql, intersection_area.c_r) %&gt;%
  mutate( across( starts_with(&#39;inter&#39;), .fn=function(x) {x/1000000})) %&gt;%
  group_by(distance) %&gt;%
  summarise( across( where(is.numeric), .fns=c(&#39;total&#39;=sum))) %&gt;%
  mutate( difference = intersection_area.c_sql_total - intersection_area.c_r_total,
         pct = round(difference / intersection_area.c_sql_total *100,2) )  %&gt;% 
  { . } -&gt; df_diff_final</code></pre>
<pre><code>`summarise()` ungrouping output (override with `.groups` argument)</code></pre>
<pre class="r"><code>  df_both_concord %&gt;%
  select( distance, starts_with(&#39;intersection_area&#39;)) %&gt;%
  nest( data = -distance) %&gt;%
  mutate(test = map(data, ~ cor.test(.x$intersection_area.c_r, .x$intersection_area.c_sql)),
         tidied = map(test, broom::tidy)) %&gt;%
  mutate(n = map_int(data, nrow)) %&gt;%
  select(-test, -data) %&gt;%
  unnest(tidied) %&gt;% 
  { . } -&gt; df_cor

df_diff_final %&gt;%
  set_names(c(&#39;Buffer size (m)&#39;, &#39;Postgis Total Area (km^2) &#39;, &#39;R Total Area (km^2)&#39;, &#39;Difference&#39;, &quot;% Difference&quot;)) %&gt;%
  inner_join( df_cor, by=c(&#39;Buffer size (m)&#39;=&#39;distance&#39;)) %&gt;% 
  gt()</code></pre>
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#xdduhtxcdz .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xdduhtxcdz .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xdduhtxcdz .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xdduhtxcdz .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 4px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xdduhtxcdz .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xdduhtxcdz .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xdduhtxcdz .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xdduhtxcdz .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xdduhtxcdz .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xdduhtxcdz .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xdduhtxcdz .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xdduhtxcdz .gt_group_heading {
  padding: 8px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#xdduhtxcdz .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xdduhtxcdz .gt_from_md > :first-child {
  margin-top: 0;
}

#xdduhtxcdz .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xdduhtxcdz .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xdduhtxcdz .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 12px;
}

#xdduhtxcdz .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xdduhtxcdz .gt_first_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
}

#xdduhtxcdz .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xdduhtxcdz .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xdduhtxcdz .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xdduhtxcdz .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xdduhtxcdz .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xdduhtxcdz .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding: 4px;
}

#xdduhtxcdz .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xdduhtxcdz .gt_sourcenote {
  font-size: 90%;
  padding: 4px;
}

#xdduhtxcdz .gt_left {
  text-align: left;
}

#xdduhtxcdz .gt_center {
  text-align: center;
}

#xdduhtxcdz .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xdduhtxcdz .gt_font_normal {
  font-weight: normal;
}

#xdduhtxcdz .gt_font_bold {
  font-weight: bold;
}

#xdduhtxcdz .gt_font_italic {
  font-style: italic;
}

#xdduhtxcdz .gt_super {
  font-size: 65%;
}

#xdduhtxcdz .gt_footnote_marks {
  font-style: italic;
  font-size: 65%;
}
</style>
<div id="xdduhtxcdz" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;"><table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Buffer size (m)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Postgis Total Area (km^2) </th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">R Total Area (km^2)</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">Difference</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">% Difference</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">statistic</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">p.value</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">parameter</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">conf.low</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1">conf.high</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">method</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">alternative</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1">n</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr>
      <td class="gt_row gt_right">400</td>
      <td class="gt_row gt_right">1741.501</td>
      <td class="gt_row gt_right">1731.222</td>
      <td class="gt_row gt_right">10.27905</td>
      <td class="gt_row gt_right">0.59</td>
      <td class="gt_row gt_right">0.9999940</td>
      <td class="gt_row gt_right">78017.18</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_center">73252</td>
      <td class="gt_row gt_right">0.9999939</td>
      <td class="gt_row gt_right">0.9999941</td>
      <td class="gt_row gt_left">Pearson's product-moment correlation</td>
      <td class="gt_row gt_left">two.sided</td>
      <td class="gt_row gt_center">73254</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">1000</td>
      <td class="gt_row gt_right">10645.570</td>
      <td class="gt_row gt_right">10583.009</td>
      <td class="gt_row gt_right">62.56157</td>
      <td class="gt_row gt_right">0.59</td>
      <td class="gt_row gt_right">0.9999943</td>
      <td class="gt_row gt_right">158638.04</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_center">288354</td>
      <td class="gt_row gt_right">0.9999942</td>
      <td class="gt_row gt_right">0.9999943</td>
      <td class="gt_row gt_left">Pearson's product-moment correlation</td>
      <td class="gt_row gt_left">two.sided</td>
      <td class="gt_row gt_center">288356</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">2000</td>
      <td class="gt_row gt_right">41613.122</td>
      <td class="gt_row gt_right">41369.311</td>
      <td class="gt_row gt_right">243.81091</td>
      <td class="gt_row gt_right">0.59</td>
      <td class="gt_row gt_right">0.9999943</td>
      <td class="gt_row gt_right">277634.34</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_center">872587</td>
      <td class="gt_row gt_right">0.9999943</td>
      <td class="gt_row gt_right">0.9999944</td>
      <td class="gt_row gt_left">Pearson's product-moment correlation</td>
      <td class="gt_row gt_left">two.sided</td>
      <td class="gt_row gt_center">872589</td>
    </tr>
    <tr>
      <td class="gt_row gt_right">5000</td>
      <td class="gt_row gt_right">249719.289</td>
      <td class="gt_row gt_right">248264.883</td>
      <td class="gt_row gt_right">1454.40649</td>
      <td class="gt_row gt_right">0.58</td>
      <td class="gt_row gt_right">0.9999926</td>
      <td class="gt_row gt_right">510589.83</td>
      <td class="gt_row gt_right">0</td>
      <td class="gt_row gt_center">3875443</td>
      <td class="gt_row gt_right">0.9999926</td>
      <td class="gt_row gt_right">0.9999926</td>
      <td class="gt_row gt_left">Pearson's product-moment correlation</td>
      <td class="gt_row gt_left">two.sided</td>
      <td class="gt_row gt_center">3875445</td>
    </tr>
  </tbody>
  
  
</table></div>
<br>
<p>
<button type="button" class="btn btn-default btn-workflowr btn-workflowr-sessioninfo" data-toggle="collapse" data-target="#workflowr-sessioninfo" style="display: block;">
<span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Session information
</button>
</p>
<div id="workflowr-sessioninfo" class="collapse">
<pre class="r"><code>sessionInfo()</code></pre>
<pre><code>R version 4.0.2 (2020-06-22)
Platform: x86_64-pc-linux-gnu (64-bit)
Running under: Ubuntu 20.04.1 LTS

Matrix products: default
BLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.9.0
LAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.9.0

locale:
 [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
 [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
 [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
 [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
 [9] LC_ADDRESS=C               LC_TELEPHONE=C            
[11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] rvest_0.3.6           xml2_1.3.2            gt_0.2.2             
 [4] DT_0.15               leaflet_2.0.3         workflowr_1.6.2      
 [7] cleangeo_0.2-3        maptools_1.0-2        rgeos_0.5-5          
[10] sp_1.4-2              geohash_0.4.0         multidplyr_0.0.0.9000
[13] osrm_3.3.3            RPostgreSQL_0.6-2     DBI_1.1.0            
[16] furrr_0.1.0           future_1.18.0         fs_1.5.0             
[19] readxl_1.3.1          s2_1.0.2.9000         sf_0.9-6             
[22] janitor_2.0.1         rmarkdown_2.3         lubridate_1.7.9      
[25] geosphere_1.5-10      forcats_0.5.0         stringr_1.4.0        
[28] dplyr_1.0.2           purrr_0.3.4           readr_1.3.1          
[31] tidyr_1.1.0           tibble_3.0.3          ggplot2_3.3.2        
[34] tidyverse_1.3.0       drake_7.12.5          dotenv_1.0.2         
[37] conflicted_1.0.4      nvimcom_0.9-102      

loaded via a namespace (and not attached):
 [1] colorspace_1.4-1   ellipsis_0.3.1     class_7.3-17       rprojroot_1.3-2   
 [5] snakecase_0.11.0   rstudioapi_0.11    farver_2.0.3       listenv_0.8.0     
 [9] fansi_0.4.1        codetools_0.2-16   knitr_1.30         jsonlite_1.7.1    
[13] broom_0.7.0        dbplyr_1.4.4       Xmisc_0.2.1        compiler_4.0.2    
[17] httr_1.4.2         backports_1.1.10   assertthat_0.2.1   cli_2.0.2         
[21] later_1.1.0.1      htmltools_0.5.0    prettyunits_1.1.1  tools_4.0.2       
[25] igraph_1.2.5       gtable_0.3.0       glue_1.4.2         wk_0.3.2          
[29] Rcpp_1.0.5         cellranger_1.1.0   vctrs_0.3.4        crosstalk_1.1.0.1 
[33] xfun_0.17          globals_0.12.5     lifecycle_0.2.0    scales_1.1.1      
[37] hms_0.5.3          promises_1.1.1     parallel_4.0.2     yaml_2.2.1        
[41] memoise_1.1.0      sass_0.2.0         stringi_1.5.3      checkmate_2.0.0   
[45] e1071_1.7-3        filelock_1.0.2     storr_1.2.1        rlang_0.4.7       
[49] pkgconfig_2.0.3    evaluate_0.14      lattice_0.20-41    labeling_0.3      
[53] htmlwidgets_1.5.1  tidyselect_1.1.0   magrittr_1.5       R6_2.4.1          
[57] generics_0.0.2     base64url_1.4      txtq_0.2.3         whisker_0.4       
[61] pillar_1.4.6       haven_2.3.1        foreign_0.8-79     withr_2.3.0       
[65] units_0.6-7        modelr_0.1.8       crayon_1.3.4       utf8_1.1.4        
[69] KernSmooth_2.23-17 progress_1.2.2     grid_4.0.2         blob_1.2.1        
[73] git2r_0.27.1       reprex_0.3.0       digest_0.6.25      classInt_0.4-3    
[77] httpuv_1.5.4       munsell_0.5.0     </code></pre>
</div>
</div>


<!-- Adjust MathJax settings so that all math formulae are shown using
TeX fonts only; see
http://docs.mathjax.org/en/latest/configuration.html.  This will make
the presentation more consistent at the cost of the webpage sometimes
taking slightly longer to load. Note that this only works because the
footer is added to webpages before the MathJax javascript. -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    "HTML-CSS": { availableFonts: ["TeX"] }
  });
</script>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
